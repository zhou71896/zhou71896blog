---
title: Vim入门
date: 2017-08-15 16:16:17
tags: vim
---
# 简介
----
Vim 编辑器是功能强大的跨平台的文本编辑工具，继承自Unix系统的Vi编辑器，支持Linux／Mac OS X／Windows系统，利用它可以建立修改文本文件。进入Vim编辑程序，可以在终端下面输入的命令：
``` bash
$vim [filename]
```
其中filename是要编辑器的文件的路径名。如果文件不存在，它将为你建立一个新的文件。Vim编辑程序有三种模式，分别称为 编辑模式， 插入模式，命令模式，当运行Vim时，首先进入编辑模式。

 ## 编辑模式
----
Vim编辑模式的主要用途时是在被编辑的文件中移动光标的位置。一旦光标移动到所需要的位置时，就可以进行剪切和粘贴正文本，删除正文和插入新的文本。当完成所有的编辑工作后，需要保存编辑器的结果，退出编辑程序回到终端，可以发出ZZ命令，连续两次大写的Z键。
 
如果键盘上有上下左右箭头的导航键，就由这些按键来完成光标的移动。另外，可以用下面的键来完成同样的字符移动功能：
``` bash
k		上移；
j		下移；
h		左移；
l		右移；
```
上面这4个按键将光标位置每次移动一行或一个字符。Vim还提供稍大范围移动光标的命令：
``` bash
ctrl+f		在文件中前移一页（相当于page down）；
ctrl+b		在文件中后移一页（相当于page up）；
```
更大范围的移动：
``` bash
*		当光标停在一个单词上，*键会在文件内搜索该单词，跳到下处
#		当光标停在一个单词上，#键在文件内搜索该词，跳到上处
(/)		移动到 前／后 句 的开始；
{/}		跳转到 当前/下一个 段落的开始。
g_		到本行最后一个不是blank字符的位置。
fa		到下一个为a的字符处，你也可以fs到下一个为s的字符
t,		到逗号前的第一个字符。逗号可以变成其它字符。
3fa		在当前行查找第三个出现的a。
F/T		和f和t一样，只不过是相反方向；
gg		将光标定位到文件第一行的起始位置；
G		将光标定位到文件最后一行的起始位置；
NG或Ngg		将光标定位到第N行的起始位置。
```
在屏幕中找到需要的一页时，可以用下面的命令快速移动光标：
``` bash
H		将光标移动到屏幕上的起始行（或最上行）
M		将光标移动到屏幕中间；
L		将光标移动到屏幕最后一行。
```
同样需要注意字母的大小写。H和L命令还可以加数字。入2H表示将光标移动到屏幕的第2行，3L表示将光标移动到屏幕的倒数第3行。
将光标移动所要的行是，行内移动 光标可以用下面的命令来实现：
``` bash
w		右移动光标到下一个字的开头；
e		右移动光标到一个字的末尾；
b		左移光标到前一个字的开头；
0		数字0，左移光标到本行的开始；
$		右移光标，到本行的末尾；
^		移动光标，到本行的第一个非空字符。
```
##  搜索匹配
和许多先进的编辑器一样，Vim提供了强大的字符串搜索功能。要查找文件中指定字或短语的出现的位置，可以用Vim直接进行搜索，而不必以手工方式进行。搜索方法是：键入字符／，后面跟一要搜索的字符串，然后回车键。编辑程序执行正向搜索（即朝文件末尾方向），并在找到指定字符串后，将光标停在该字符串的开头；渐入n命令可以继续执行搜索，找出这一字符串下次出现的位置。用字符？取代／，可以实现反向搜索（朝文件开头方向）。``` bash
/str1		正向搜索字符串 str1；
n		继续搜索，找出str1字符串下次出现的位置；
N		继续搜索，找出str1字符串上次出现的位置；
？str2		反向搜索字符串 str2。
```
无论搜索方向如何，当到文件末尾或开头时，搜索工作会循环到文件的另一端并继续执行。Vim中执行搜索匹配最强大的地方是结合正则表达式来搜索，后续将会介绍。
## 替换和删除
Vim常规的删除命令是d,x(前者删除行，后者删除字符)，结合Vim的其它特性可以实现基础的删除功能。将光标定位于文件内指定位置后，可以用其它字符来替换光标所指向的字符，或从当前光标位置删除一个或多个字符或一行，多行。例如：
``` bash
rc		用c替换光标所指向的当前字符；
nrc		用c替换光标所指向的当前n个字符；
5rA		用A替换光标所指向的当前5个字符；
x		删除光标所指向的当前字符；
nx		删除光标所指向的前n个字符；
3x		删除光标所指向的前3个字符；
dw		删除光标右侧的字；
3dw		删除光标右侧的3个字；
db		删除光标左侧的字；
ndb		删除光标左侧的n个字；
5db		删除光标左侧的5个字；
dd		删除(剪切)光标所在行，并去除空隙；
3dd		删除(剪切)3行内容，并去除空隙；
```
其它常用的删除命令有：
``` bash
d$		从当前光标起删除字符直到行的结束；
d0		从当前光标起删除字符直到行的开始；
J		删除本行的回车符(CR),并和下一行合并。
```
Vim常规的替换命令有c和s，结合Vim的其它特性可以实现基础的替换功能，不过替换命令执行后，通常会由编辑模式进入插入模式：
``` bash
s		用输入的正文替换光标所指向的字符；
S		删除当前行，并进入编辑模式；
ns		用输入的正文替换光标右侧n个字符串；
nS		删除当前所在行内的n行，并进入编辑模式；
cw		用输入的正文替换光标右侧的字；
cW		用输入的正文替换从光标到行尾的所有字符；
ncw		用输入的正文替换光标右侧的n个字；
cb		用输入的正文替换光标左侧的字；
ncb		用输入的正文替换光标左侧的n个字；
cd		用输入的正文替换光标的所在行；
ncd		用输入的正文替换光标的所在行下面的n行i；
c$		用输入的正文替换从光标开始到本行末尾的所有字符；
c0		用输入的正文替换从本行开头到光标的所有字符。
```
## 复制粘贴
